<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout}">
<!--        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
<head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Téchargement du Bon de Commande</title>
    <script type="text/css">
        .btn-info, .lead {
            margin-top: 20px;
        }
        table {
            border: none;
            border-collapse: collapse;
        }

        td {
            border: none;
        }
    </script>
</head>

<div layout:fragment="page_content" class="main-content">
    <section class="section">
        <div class="section-header">
            <h1>Téléchargement du Bon de Commande</h1>


            <div class="section-header-breadcrumb">
                <div class="breadcrumb-item active"><a th:href="@{/}">Accueil</a></div>
                <div class="breadcrumb-item"><a th:href="@{/admin/home}">Administration</a></div>
                <div class="breadcrumb-item">Téléchargement du Bon de Commande</div>
            </div>

        </div>
        <div class="section-body">
            <h2 class="section-title">Téléchargement du Bon de Commande</h2>
            <p class="section-lead">
                Vous pouvez gérer tous vos Bon de commande
            </p>
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4>Liste des Bons de commande</h4>
                        </div>


                        <div class="container" id="template_invoice" style="margin-bottom: -20%">
                            <div class="row">

                                <div class="col-xs-4">
                                    <button class="btn btn-info pull-right">Download</button>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-xs-6 text-right">
                                    <address>
                                        <img src="/img/entete.PNG" class="img-fluid" alt="Responsive image" style="width: inherit;height:100px ">
                                    </address>
                                </div>
                                <div class="col-sm text-right" style="margin-right: 20px">
                                    <address>
                                        <strong>SOCIETE IVOIRIENNE DE RAFINAGE</strong>
                                        <br>
                                        Boulvard de petit Bassam, ABIDJAN<br>
                                        &nbsp;&nbsp;21 23 70 70

                                    </address>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-xs-6">
                                    <address>
                                        <strong>Numero:</strong>
                                        <span th:text="${bcHelper.numBC}"></span><br>
                                        <strong>N° Telephone:</strong>
                                        <span th:text="${bcHelper.contactVendeur}"></span><br>
                                        <strong>Date:</strong>
                                        <span th:text="${bcHelper.dateBC}"></span><br>

                                    </address>
                                </div>

                            </div>

                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h3 class="panel-title" style="margin-left: 20%"><strong>Bon de commande</strong></h3><br><br>
                                        </div>
                                        <div class="panel-body">
                                            <div class="table-responsive">
                                                <table class="table table-condensed table-striped" style="border-style: none">
                                                    <thead>
                                                    <tr>
                                                        <th><smal>Réf</smal></th>
                                                        <th class="text-center">Designation</th>
                                                        <th class="text-center">PU</th>
                                                        <th class="text-center">Qte</th>
                                                        <th class="text-center">Conditionnement</th>
                                                        <th class="text-right">TTC</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <td th:text="${bcHelper.refEs}">BS-200</td>
                                                        <td class="text-center" th:text="${bcHelper.designationEs}">$10.99</td>
                                                        <td class="text-center" th:text="${bcHelper.puEs}">1</td>
                                                        <td class="text-right" th:text="${bcHelper.qteEs}">$10.99</td>
                                                        <td class="text-right" th:text="${bcHelper.condEs}">$10.99</td>
                                                        <td class="text-right" th:text="${bcHelper.mtnEs}">$10.99</td>
                                                    </tr>
                                                    <tr>
                                                        <td th:text="${bcHelper.refGaz}">BS-200</td>
                                                        <td class="text-center" th:text="${bcHelper.designationGaz}">$10.99</td>
                                                        <td class="text-center" th:text="${bcHelper.puGaz}">1</td>
                                                        <td class="text-right" th:text="${bcHelper.qteGaz}">$10.99</td>
                                                        <td class="text-right" th:text="${bcHelper.condGaz}">$10.99</td>
                                                        <td class="text-right" th:text="${bcHelper.mtnGaz}">$10.99</td>
                                                    </tr>
                                                    <tr>
                                                        <td></td>
                                                        <td class="text-center"></td>
                                                        <td class="text-center"></td>
                                                        <td class="text-right"></td>
                                                        <td class="text-right"></td>
                                                        <td class="text-right"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="thick-line"></td>
                                                        <td class="thick-line"></td>
                                                        <td class="thick-line text-center"><strong></strong></td>
                                                        <td class="thick-line text-right"></td>
                                                        <td class="text-right"></td>
                                                        <td class="text-right"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="no-line"></td>
                                                        <td class="no-line"></td>
                                                        <td class="no-line text-center"><strong></strong></td>
                                                        <td class="no-line text-right"></td>
                                                        <td class="text-right"></td>
                                                        <td class="text-right"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="no-line"></td>
                                                        <td class="no-line"></td>
                                                        <td class="text-right"></td>
                                                        <td class="text-right"></td>
                                                        <td class="no-line text-center"><strong>Total</strong></td>
                                                        <td class="no-line text-right" th:text="${total}">$685.99</td>

                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-xs-6 text-right">
                                                <address>
                                                    &nbsp;

                                                </address>
                                            </div>
                                            <br><br>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="espace" style="width: inherit;height: 200px; background-color: #0b2e13; margin-bottom: 30%">

                            </div>
                            <div class="row" style="margin-left: -80%; margin-top: 20px">
                                <div class="col-md-12" >
                                    <address>
                                        <img src="/img/pied.PNG" class="img-fluid" alt="Responsive image" style="width: 550px;height:100px ">
                                    </address>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        </body>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.6/jspdf.plugin.autotable.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

        <script>
            /*var doc = new jsPDF();
            $('#generatereport').click(function() {
                doc.fromHTML($('#content ')[0], 20, 20, {
                    width: 170
                }, function() {
                    doc.save('bl-file.pdf');
                });
            });*/

            $(document).ready(function() {
                $(".btn").click(function() {
                    var doc = new jsPDF("p", "pt", "letter"),
                        source = $("#template_invoice")[0],
                        margins = {
                            top: 40,
                            bottom: 10,
                            left: 40,
                            right: 40,
                            width: 560
                        };

                    doc.fromHTML(
                        source, // HTML string or DOM elem ref.
                        margins.left, // x coord
                        margins.top,
                        {
                            // y coord
                            width: margins.width // max width of content on PDF
                        },
                        function(dispose) {
                            // dispose: object with X, Y of the last line add to the PDF
                            //          this allow the insertion of new lines after html
                            doc.save("Bon_de_Commande.pdf");
                        },
                        margins
                    );
                });
            });
        </script>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js" integrity="sha256-c3RzsUWg+y2XljunEQS0LqWdQ04X1D3j22fd/8JCAKw=" crossorigin="anonymous"></script>
    <script th:src="@{/assets/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/assets/js/dataTables.bootstrap4.min.js}"></script>
    <script th:src="@{/assets/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/assets/js/buttons.flash.min.js}"></script>
</div>
<!-- Export HTML to PDF -->
<script th:src="@{/assets/js/dom-to-image.min.js}"></script>
<script th:src="@{/assets/js/jspdf.min.js}"></script>
</html>

